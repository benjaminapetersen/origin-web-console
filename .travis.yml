language: node_js
node_js:
  - "6"
# addons:
#  chrome: stable
before_install:
  # install xvfb before running the build
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3 # give xvfb some time to start
  # install chrome
  - wget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm
  - sudo yum install ./google-chrome-stable_current_*.rpm -y
  # travis-ci suggested chrome install:
  # - google-chrome-stable --headless --disable-gpu &
before_script:
  # not sure if we need to explicitly start it...
  # - google-chrome --headless --disable-gpu http://localhost &
  - make build
script:
  - hack/verify-dist.sh
  - grunt test-unit
  - grunt test-integration --browser=chrome
